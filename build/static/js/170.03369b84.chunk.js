(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[170],{2204:function(e,l,t){"use strict";t.r(l);var n=t(0),a=t.n(n),o=t(62),i=t(28);t(870);l.default=()=>{const[e,l]=Object(n.useState)({Project:null,Building:null,floor:null,unit:null,secondfloor:null,flat:null,parking:null,booking_price:null,booking_date:null,allotment_date:null,agreement_date:null,Owner_name:null,payment_stage:null,price:null,payment_receive:null,payment_type:null,check_number:null,date:null,bank_name:null,branch_name:null,bank_account:null,card_number:null,id:null,price_with_tax:null});let t,c;const d=n=>{t=n.target.name,c=n.target.value,l({...e,[t]:c}),console.log({data:e})},[u,r]=Object(n.useState)(null),[m,v]=Object(n.useState)(null),[s,p]=Object(n.useState)(null),[g,b]=Object(n.useState)(null),[_,E]=Object(n.useState)(null),[h,y]=Object(n.useState)(null);Object(o.g)();Object(n.useEffect)(()=>{(async()=>{const e=await i.a.get("https://growbuild-jg.onrender.com/api/all/project",{Headers:{"Content-Type":"application/json"}});y(e.data)})()},[]);const[f,j]=Object(n.useState)(null),[N,S]=Object(n.useState)(null),[k,w]=Object(n.useState)(null),x=async t=>{(async t=>{const n=await i.a.get("".concat("https://growbuild-jg.onrender.com","/api/get/demand/").concat(t),{Headers:{"Content-Type":"application/json"}});if(200===n.status){w(n.data);let t=n.data;l({...e,Project:null===e||void 0===e?void 0:e.Project,Building:null===e||void 0===e?void 0:e.Building,floor:null===e||void 0===e?void 0:e.floor,unit:null===e||void 0===e?void 0:e.unit,secondfloor:null===e||void 0===e?void 0:e.secondfloor,flat:null===e||void 0===e?void 0:e.flat,parking:null===e||void 0===e?void 0:e.parking,booking_price:null===e||void 0===e?void 0:e.booking_price,booking_date:null===e||void 0===e?void 0:e.booking_date,allotment_date:null===e||void 0===e?void 0:e.allotment_date,agreement_date:null===e||void 0===e?void 0:e.agreement_date,Owner_name:null===e||void 0===e?void 0:e.Owner_name,payment_stage:null===e||void 0===e?void 0:e.payment_stage,price:null===t||void 0===t?void 0:t.amount,payment_receive:null===e||void 0===e?void 0:e.payment_receive,payment_type:null===e||void 0===e?void 0:e.payment_type,check_number:null===e||void 0===e?void 0:e.check_number,date:null===e||void 0===e?void 0:e.date,bank_name:null===e||void 0===e?void 0:e.bank_name,branch_name:null===e||void 0===e?void 0:e.branch_name,bank_account:null===e||void 0===e?void 0:e.bank_account,card_number:null===e||void 0===e?void 0:e.card_number,price_with_tax:null===e||void 0===e?void 0:e.price_with_tax})}})(t)},P=()=>{(null!==(null===e||void 0===e?void 0:e.flat)||(null===e||void 0===e?void 0:e.flat)>0)&&(async(t,n,a,o,c)=>{if((12===(null===t||void 0===t?void 0:t.length)||24===(null===t||void 0===t?void 0:t.length))&&(12===(null===n||void 0===n?void 0:n.length)||24===(null===n||void 0===n?void 0:n.length))&&(12===(null===a||void 0===a?void 0:a.length)||24===(null===a||void 0===a?void 0:a.length))&&(0!==o||null!==o)&&(0!==c||null!==c)){const o=await i.a.get("".concat("https://growbuild-jg.onrender.com","/api/").concat(t,"/").concat(n,"/").concat(a,"/").concat(c),{Headers:{"Content-Type":"application/json"}});if(200===o.status){console.log(o.data);let t=o.data;l({...e,Project:null===e||void 0===e?void 0:e.Project,Building:null===e||void 0===e?void 0:e.Building,floor:null===e||void 0===e?void 0:e.floor,unit:null===e||void 0===e?void 0:e.unit,secondfloor:null===e||void 0===e?void 0:e.secondfloor,flat:null===e||void 0===e?void 0:e.flat,parking:null===e||void 0===e?void 0:e.parking,booking_price:null===t||void 0===t?void 0:t.booking_price,booking_date:null===e||void 0===e?void 0:e.booking_date,allotment_date:null===e||void 0===e?void 0:e.allotment_date,agreement_date:null===e||void 0===e?void 0:e.agreement_date,Owner_name:null===t||void 0===t?void 0:t.first_applicant_name,payment_stage:null===e||void 0===e?void 0:e.payment_stage,price:null===e||void 0===e?void 0:e.price,payment_receive:null===e||void 0===e?void 0:e.payment_receive,payment_type:null===e||void 0===e?void 0:e.payment_type,check_number:null===e||void 0===e?void 0:e.check_number,date:null===e||void 0===e?void 0:e.date,bank_name:null===e||void 0===e?void 0:e.bank_name,branch_name:null===e||void 0===e?void 0:e.branch_name,bank_account:null===e||void 0===e?void 0:e.bank_account,card_number:null===e||void 0===e?void 0:e.card_number,price_with_tax:null===e||void 0===e?void 0:e.price_with_tax}),S(t)}}})(e.Building,e.Project,e.unit,e.flat,e.floor)},[F,O]=Object(n.useState)(null),B=async()=>{const e=await i.a.get("".concat("https://growbuild-jg.onrender.com","/api/get/all/buyermaster"),{Headers:{"Content-Type":"application/json"}});200===e.status&&(O(e.data),console.log(e.data))};Object(n.useEffect)(()=>{B()},[]);return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"container bg-white p-2 rounded-2"},a.a.createElement("form",{className:"row px-4 py-4 mx-2 my-2 shadow-lg needs-validation",novalidate:!0},a.a.createElement("h3",{className:"text-alternate text-primary"},"Payment Master"),a.a.createElement("hr",null),a.a.createElement("div",{className:"col-md-6 col-12 mb-2"},a.a.createElement("p",{className:"text-alternate"},"Select Project"),a.a.createElement("div",{className:"input-group"},a.a.createElement("select",{className:"form-control",id:"project",onChange:e=>{d(e),(async e=>{if((24===(null===e||void 0===e?void 0:e.length)||12===(null===e||void 0===e?void 0:e.length))&&"Select Project"!==e){const l=await i.a.get("".concat("https://growbuild-jg.onrender.com","/api/buildings/").concat(e),{Headers:{"Content-Type":"application/json"}});b(l.data)}})(e.target.value)},name:"Project",value:e.Project},null===h?a.a.createElement("option",{value:null,name:null},"Loading..."):a.a.createElement("option",{value:null,name:null},"Select Project"),null!==h&&0===(null===h||void 0===h?void 0:h.length)&&a.a.createElement("option",{value:null,name:null},"No projects Avaliable"),null!==h&&(null===h||void 0===h?void 0:h.length)>0&&h.map(e=>a.a.createElement("option",{name:null===e||void 0===e?void 0:e._id,value:null===e||void 0===e?void 0:e._id},null===e||void 0===e?void 0:e.Name))))),a.a.createElement("div",{className:"col-md-6 col-12 mb-2"},a.a.createElement("p",{className:"text-alternate"},"Select Building"),a.a.createElement("div",{className:"input-group"},a.a.createElement("select",{className:"form-control",id:"building",name:"Building",onChange:l=>{d(l),(async e=>{if(24===(null===e||void 0===e?void 0:e.length)||12===(null===e||void 0===e?void 0:e.length)){const l=await i.a.get("".concat("https://growbuild-jg.onrender.com","/api/building/").concat(e),{Headers:{"Content-Type":"application/json"}});E(l.data)}})(l.target.value),(async(e,l)=>{if((24===(null===e||void 0===e?void 0:e.length)||12===(null===e||void 0===e?void 0:e.length))&&(24===(null===l||void 0===l?void 0:l.length)||12===(null===l||void 0===l?void 0:l.length))){const t=await i.a.get("".concat("https://growbuild-jg.onrender.com","/api/find/unit/").concat(e,"/").concat(l),{Headers:{"Content-Type":"application/json"}});p(t.data)}})(l.target.value,null===e||void 0===e?void 0:e.Project),(async(e,l)=>{if((12===(null===e||void 0===e?void 0:e.length)||24===(null===e||void 0===e?void 0:e.length))&&(12===(null===l||void 0===l?void 0:l.length)||24===(null===l||void 0===l?void 0:l.length))){const t=await i.a.get("".concat("https://growbuild-jg.onrender.com","/api/demand/").concat(e,"/").concat(l),{Headers:{"contnt-type":"application/json"}});200===t.status&&(j(t.data),console.log(t.data))}})(l.target.value,null===e||void 0===e?void 0:e.Project)},value:e.Building},null===e.Project?a.a.createElement("option",{value:null,name:null},"First select Project"):a.a.createElement(a.a.Fragment,null,null===g&&a.a.createElement("option",{value:null,name:null},"Loading..."),null!==g&&0===(null===g||void 0===g?void 0:g.length)&&a.a.createElement("option",{value:null,name:null},"No Building Avaliable")),(null===g||void 0===g?void 0:g.length)>0&&a.a.createElement(a.a.Fragment,null,a.a.createElement("option",{value:null,name:null},"Select Building"),null===g||void 0===g?void 0:g.map(e=>a.a.createElement(a.a.Fragment,null,a.a.createElement("option",{value:null===e||void 0===e?void 0:e._id,name:null===e||void 0===e?void 0:e._id},null===e||void 0===e?void 0:e.buildingName))))))),a.a.createElement("div",{className:"col-md-4 col-12 mb-2"},a.a.createElement("p",{className:"text-alternate"},"Select Floor"),a.a.createElement("div",{className:"input-group"},a.a.createElement("select",{className:"form-control",id:"floor",name:"floor",onChange:d,value:e.floor},null===_?a.a.createElement("option",{value:null,name:null},"Loading..."):a.a.createElement("option",{value:null,name:null},"Select Floor"),null!==_&&0===(null===_||void 0===_?void 0:_.total_number_of_floors)&&a.a.createElement("option",{value:null,name:null},"No Floor Avaliable"),null!==_&&(null===_||void 0===_?void 0:_.total_number_of_floors)>0&&(e=>{const l=[];for(let t=0;t<e;t++)l.push(a.a.createElement("option",{key:t,value:t},t));return l})(null===_||void 0===_?void 0:_.total_number_of_floors)))),a.a.createElement("div",{className:"col-md-4 col-12 mb-2"},a.a.createElement("p",{className:"text-alternate"},"Select Unit"),a.a.createElement("div",{className:"input-group"},a.a.createElement("select",{className:"form-control",id:"unit",name:"unit",onChange:d,value:e.unit},null===e.Project&&null===e.Building&&a.a.createElement("option",{value:null,name:null},"Select Project First"),null===e.Building&&null!==e.Project&&a.a.createElement("option",{value:null,name:null},"Select Building First"),null!==e.Building&&null!==e.Project&&null===s&&a.a.createElement("option",{value:null,name:null},"Loading..."),null!==s&&a.a.createElement(a.a.Fragment,null,0===s.length?a.a.createElement("option",{value:null,name:null},"No Units Avaliable."):a.a.createElement("option",{value:null,name:null},"Select Unit"),s.length>0&&s.map(l=>{let t="";if(t=l.unit_name,t=t.slice(0,1),t===e.floor)return a.a.createElement("option",{value:null===l||void 0===l?void 0:l._id,name:null===l||void 0===l?void 0:l._id},null===l||void 0===l?void 0:l.unit_name)}))))),a.a.createElement("div",{className:"col-md-6 col-12 mb-2"},a.a.createElement("p",{className:"text-alternate"},"Fetch Details"),null!==(null===e||void 0===e?void 0:e.unit)?a.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:()=>P(null===e||void 0===e||e.payment_stage)},"Fetch Details"):a.a.createElement("button",{className:"btn btn-primary",disabled:!0},"Fetch Details")),a.a.createElement("div",{className:"col-md-6 col-12 mb-2"},a.a.createElement("p",{className:"text-alternate"},"Owner Name"),null!==(null===e||void 0===e?void 0:e.Owner_name)?a.a.createElement("p",null,null===e||void 0===e?void 0:e.Owner_name):a.a.createElement("p",null,"Loading...")),a.a.createElement("div",{className:"col-md-6 col-12 mb-2"},a.a.createElement("p",{className:"text-alternate"},"Select Payment Stage"),a.a.createElement("div",{className:"input-group"},a.a.createElement("select",{className:"form-control",id:"stage",name:"payment_stage",onChange:d,value:null===e||void 0===e?void 0:e.payment_stage},null===g?a.a.createElement("option",{value:"1"},"Select Building First"):a.a.createElement(a.a.Fragment,null,null!==g&&0===(null===f||void 0===f?void 0:f.length)&&null!==f&&a.a.createElement("option",{value:"2"},"No Stage Available"),null!==g&&(null===f||void 0===f?void 0:f.length)>0&&null!==f&&a.a.createElement(a.a.Fragment,null,a.a.createElement("option",{value:"2"},"Select Stage"),null!==g&&(null===f||void 0===f?void 0:f.length)>0&&null!==f&&(null===f||void 0===f?void 0:f.map(e=>(console.log(e),a.a.createElement("option",{value:null===e||void 0===e?void 0:e._id,name:null===e||void 0===e?void 0:e._id},null===e||void 0===e?void 0:e.stage_name))))))))),a.a.createElement("div",{className:"col-md-6 col-12 mb-2"},a.a.createElement("p",{className:"text-alternate"},"Stage"),null!==(null===e||void 0===e?void 0:e.payment_stage)?a.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:()=>{x(null===e||void 0===e?void 0:e.payment_stage),(async()=>{var l;const t=await i.a.get("".concat("https://growbuild-jg.onrender.com","/api/get/buyer/").concat(e.Project,"/").concat(e.Building,"/").concat(e.floor,"/").concat(e.unit,"/").concat(e.payment_stage));if(404===(null===(l=t.data)||void 0===l?void 0:l.status))v("Not Found!");else{var n,a;const l=e.price-(null===(n=t.data)||void 0===n?void 0:n.price);r(null===(a=t.data)||void 0===a?void 0:a.price),v(l<=0?"Completed":"Pending")}})()}},"Fetch Stage"):a.a.createElement("button",{className:"btn btn-primary",disabled:!0},"Fetch Stage")),a.a.createElement("div",{className:"col-md-6 col-12 mb-2"},a.a.createElement("p",{className:"text-alternate"},"Stage Price"),a.a.createElement("div",{className:"input-group"},a.a.createElement("input",{type:"text",className:"form-control",id:"price","aria-label":"Select Stage First",placeholder:"Select Stage First",name:"price",value:e.price,onChange:d,readonly:"true",required:""}))),a.a.createElement("div",{className:"col-md-3 col-12 mb-2"},a.a.createElement("p",{className:"text-alternate"},"Status"),null!=m?a.a.createElement("p",{className:"text-alternate"},m):a.a.createElement("p",null,"Select Stage first")),a.a.createElement("div",{className:"col-md-3 col-12 mb-2"},a.a.createElement("p",{className:"text-alternate"},"Status"),null!=m?a.a.createElement("p",{className:"text-alternate"},u):a.a.createElement("p",null,"Select Stage first")))))}}}]);
//# sourceMappingURL=170.03369b84.chunk.js.map