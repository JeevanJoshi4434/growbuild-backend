{"version":3,"sources":["views/pages/Payment/BookingDetails.jsx"],"names":["BookingDetails","pageData","setpageData","useState","loading","total","setTotal","location","useLocation","queryParams","URLSearchParams","search","building","get","project","useEffect","async","concat","res","axios","status","data","console","log","getData","React","createElement","Fragment","style","flexDirection","className","onClick","handlePrint","window","print","src","userImg","alt","id","map","i","detail","first_applicant_name","unit","floor","totalAmount","pending","Link","to"],"mappings":"qJAAA,qEA6HeA,UAtHQA,KACnB,MAAOC,EAAUC,GAAeC,mBAAS,CACrCC,SAAS,EACTC,MAAO,MAEFA,EAAOC,GAAYH,mBAAS,MAI7BI,EAAWC,cAGXC,EAAc,IAAIC,gBAAgBH,EAASI,QAG3CC,EAAWH,EAAYI,IAAI,YAC3BC,EAAUL,EAAYI,IAAI,WAgBhC,OAJAE,oBAAU,KAXMC,WACP,gFAAAC,OAAmFL,EAAQ,cAAAK,OAAaH,EAAO,kBACtH,MAAMI,QAAYC,IAAMN,IAAI,6IAGT,MAAfK,EAAIE,SACNd,EAASY,EAAIG,MACbC,QAAQC,IAAIL,EAAIG,OAElBnB,EAAY,IAAKD,EAAUG,SAAS,KAGpCoB,IACC,IAEEvB,EAASG,SAAqB,OAAVC,EA6DfJ,EAASG,SAAqB,OAAVC,EAa1BoB,IAAAC,cAAAD,IAAAE,SAAA,KACEF,IAAAC,cAAA,OACEE,MAAO,CAAEC,cAAe,UACxBC,UAAU,2DAEVL,IAAAC,cAAA,UAAI,gBAhBRD,IAAAC,cAAAD,IAAAE,SAAA,KACEF,IAAAC,cAAA,OACEE,MAAO,CAAEC,cAAe,UACxBC,UAAU,2DAEVL,IAAAC,cAAA,UAAI,mBAlERD,IAAAC,cAAAD,IAAAE,SAAA,KACEF,IAAAC,cAAA,OAAKI,UAAU,kBACbL,IAAAC,cAAA,OAAKI,UAAU,OACbL,IAAAC,cAAA,OAAKI,UAAU,UACbL,IAAAC,cAAA,UACEK,QAjCMC,KAClBC,OAAOC,SAiCKJ,UAAU,yCACX,cAIHL,IAAAC,cAAA,OAAKI,UAAU,UACbL,IAAAC,cAAA,OACES,IAAKC,IACLC,IAAI,OACJP,UAAU,eAGZL,IAAAC,cAAA,MAAII,UAAU,eAAc,uBAC5BL,IAAAC,cAAA,aAGJD,IAAAC,cAAA,OAAKY,GAAG,gBAAgBR,UAAU,qCAChCL,IAAAC,cAAA,SAAOI,UAAU,qBACfL,IAAAC,cAAA,SAAOI,UAAU,cACfL,IAAAC,cAAA,UACED,IAAAC,cAAA,UAAI,SACJD,IAAAC,cAAA,UAAI,WACJD,IAAAC,cAAA,UAAI,YACJD,IAAAC,cAAA,UAAI,QACJD,IAAAC,cAAA,UAAI,SACJD,IAAAC,cAAA,UAAI,UACJD,IAAAC,cAAA,UAAI,WACJD,IAAAC,cAAA,UAAI,YAGRD,IAAAC,cAAA,aAEMrB,EAAMkC,IAAKC,GAEHf,IAAAC,cAAA,UACID,IAAAC,cAAA,UAAKc,EAAEC,OAAOC,sBACdjB,IAAAC,cAAA,UAAKc,EAAE1B,SACPW,IAAAC,cAAA,UAAKc,EAAE5B,UACPa,IAAAC,cAAA,UAAKc,EAAEG,MACPlB,IAAAC,cAAA,UAAKc,EAAEC,OAAOG,OACdnB,IAAAC,cAAA,UAAKc,EAAEC,OAAOI,aACdpB,IAAAC,cAAA,UAAKc,EAAEC,OAAOK,SACdrB,IAAAC,cAAA,UAAID,IAAAC,cAACqB,IAAI,CAACC,GAAE,8BAAA/B,OAAgCuB,EAAEC,OAAOE,KAAI,kBAAiBlB,IAAAC,cAAA,UAAQI,UAAU,6BAA4B","file":"static/js/169.c64d983f.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useLocation,Link } from \"react-router-dom\";\r\nimport { useEffect } from \"react\";\r\n\r\nimport userImg from '../../../layouts/components/utils/logo.jpeg';\r\nconst BookingDetails = () => {\r\n    const [pageData, setpageData] = useState({\r\n        loading: true,\r\n        total: [],\r\n      });\r\n      const [total, setTotal] = useState(null);\r\n      const handlePrint = () => {\r\n        window.print();\r\n      };\r\n      const location = useLocation();\r\n    \r\n      // Parse the query parameters from the location object\r\n      const queryParams = new URLSearchParams(location.search);\r\n    \r\n      // Get the values of 'user' and 'id' parameters\r\n      const building = queryParams.get(\"building\");\r\n      const project = queryParams.get(\"project\");\r\n      const getData = async () => {\r\n        let url = `https://growbuild-jg.onrender.com/api/get/all/demand/booking/detail?building=${building}&&project=${project}&&single=false`; \r\n        const res = await axios.get(\r\n          `http://localhost:4040/api/get/all/demand/booking/detail?building=655e24f42be710ebcca8f4dd&&project=65570e25bdf0b948660141c8&&single=false`\r\n        );\r\n        if (res.status === 200) {\r\n          setTotal(res.data);\r\n          console.log(res.data);\r\n        }\r\n        setpageData({ ...pageData, loading: false });\r\n      };\r\n      useEffect(() => {\r\n        getData();\r\n      }, []);\r\n    \r\n      if (!pageData.loading && total !== null)\r\n        return (\r\n          <>\r\n            <div className=\"container my-3\">\r\n              <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                  <button\r\n                    onClick={handlePrint}\r\n                    className=\"btn btn-primary btn-md my-2 float-end\"\r\n                  >\r\n                    Print Now\r\n                  </button>\r\n                </div>\r\n                <div className=\"col-12\">\r\n                  <img\r\n                    src={userImg}\r\n                    alt=\"logo\"\r\n                    className=\"img-fluid \"\r\n                  />\r\n    \r\n                  <h3 className=\"text-center\">All Payment Details</h3>\r\n                  <hr />\r\n                </div>\r\n              </div>\r\n              <div id=\"print-content\" className=\"table-responsive px-3 py-3 shadow\">\r\n                <table className=\"table table-hover\">\r\n                  <thead className=\"table-dark\">\r\n                    <tr>\r\n                      <th>Owner</th>\r\n                      <th>Project</th>\r\n                      <th>Building</th>\r\n                      <th>Unit</th>\r\n                      <th>Floor</th>\r\n                      <th>Amount</th>\r\n                      <th>Pending</th>\r\n                      <th>Action</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {\r\n                        total.map((i)=>{\r\n                            return(\r\n                                <tr>\r\n                                    <td>{i.detail.first_applicant_name}</td>\r\n                                    <td>{i.project}</td>\r\n                                    <td>{i.building}</td>\r\n                                    <td>{i.unit}</td>\r\n                                    <td>{i.detail.floor}</td>\r\n                                    <td>{i.detail.totalAmount}</td>\r\n                                    <td>{i.detail.pending}</td>\r\n                                    <td><Link to={`/view/booking/details?unit=${i.detail.unit}&&single=true`}><button className=\"btn btn-primary mx-1 my-1\">View</button></Link></td>\r\n                                </tr>\r\n                            )\r\n                        })\r\n                    }\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          </>\r\n        );\r\n      else if (!pageData.loading && total !== null) {\r\n        return (\r\n          <>\r\n            <div\r\n              style={{ flexDirection: \"column\" }}\r\n              className=\"d-flex flex-col align-items-start justify-content-start\"\r\n            >\r\n              <h1>No Data Found</h1>\r\n            </div>\r\n          </>\r\n        );\r\n      } else {\r\n        return (\r\n          <>\r\n            <div\r\n              style={{ flexDirection: \"column\" }}\r\n              className=\"d-flex flex-col align-items-start justify-content-start\"\r\n            >\r\n              <h1>Loading...</h1>\r\n            </div>\r\n          </>\r\n        );\r\n      }\r\n}\r\n\r\nexport default BookingDetails"],"sourceRoot":""}